{{ $defaultWidth := "100%" }}
{{ $defaultHeight := "500px" }}

{{ if .IsNamedParams }}
  <iframe
    src="https://codesandbox.io/embed/{{ .Get "id" }}?codemirror=1&fontsize=13&hidenavigation=1&theme=dark&view=preview"
    style="width:{{ with .Get "width" }}{{.}}{{ else }}100%{{ end }}; height:{{ with .Get "height" }}{{.}}{{ else }}{{ $defaultHeight }}{{ end }}; max-width: 100%; border:0; border-radius: 4px; overflow:hidden; margin: auto; margin-bottom: 1rem;"
    title="{{ with .Get "title" }}{{.}}{{ else }}{{ .Get "id" }}{{ end }}"
    allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb"
    sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"
  ></iframe>
{{ else }}
  <iframe
    src="https://codesandbox.io/embed/{{ .Get 0 }}?codemirror=1&fontsize=13&hidenavigation=1&theme=dark&view=preview"
    style="width:{{ $defaultWidth }}; height:{{ $defaultHeight }}; max-width: 100%; border:0; border-radius: 4px; overflow:hidden; margin: auto; margin-bottom: 1rem;"
    title="{{ with .Get 1 }}{{.}}{{ else }}{{ .Get 0 }}{{ end }}"
    allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb"
    sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"
  ></iframe>
{{ end }}
